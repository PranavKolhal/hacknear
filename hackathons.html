<!DOCTYPE html>
<html>


    <script>
function searchHackathons() {
  let input = document.getElementById("searchInput").value.toLowerCase();
  let cards = document.getElementsByClassName("card");

  for (let i = 0; i < cards.length; i++) {
    let text = cards[i].innerText.toLowerCase();

    if (text.includes(input)) {
      cards[i].style.display = "block";
    } else {
      cards[i].style.display = "none";
    }
  }
}
</script>


<head>
    <title>Hackathons</title>
    <link rel="stylesheet" href="style.css">
</head>

<h1>Nearby Hackathons üî•</h1>

<input 
  type="text" 
  id="searchInput" 
  placeholder="Search by name, city or tech..."
  onkeyup="searchHackathons()"
  style="padding:10px; width:300px; margin:20px;"
>


<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } 
from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAzWJcP9rKDt9YY3O0c-JvL14aYaxWDQD0",
    authDomain: "hacknear-e9ebc.firebaseapp.com",
    projectId: "hacknear-e9ebc",
    storageBucket: "hacknear-e9ebc.firebasestorage.app",
    messagingSenderId: "891891328952",
    appId: "1:891891328952:web:4b7d0256eca840420d114d"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  document.getElementById("hackathonForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const title = document.getElementById("title").value;
  const city = document.getElementById("city").value;
  const tech = document.getElementById("tech").value;

  await addDoc(collection(db, "hackathons"), {
    title,
    city,
    tech
  });

  loadHackathons();
  e.target.reset();
});

async function loadHackathons() {
  const container = document.getElementById("hackathonContainer");
  container.innerHTML = "";

  const querySnapshot = await getDocs(collection(db, "hackathons"));
  querySnapshot.forEach((docSnap) => {
    const hackathon = docSnap.data();
    const id = docSnap.id;

    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
      <h3>${hackathon.title}</h3>
      <p><strong>City:</strong> ${hackathon.city}</p>
      <p><strong>Tech:</strong> ${hackathon.tech}</p>
      <button onclick="deleteHackathon('${id}')">Delete</button>
    `;

    container.appendChild(card);
  });
}

window.deleteHackathon = async function(id) {
  await deleteDoc(doc(db, "hackathons", id));
  loadHackathons();
};

async function loadHackathons() {
  const querySnapshot = await getDocs(collection(db, "hackathons"));
  const container = document.getElementById("hackathonList");
  container.innerHTML = "";

  querySnapshot.forEach((docSnap) => {
    const data = docSnap.data();

    const card = document.createElement("div");
    card.classList.add("card");

    card.innerHTML = `
      <h3>${data.title}</h3>
      <p>City: ${data.city}</p>
      <p>Tech: ${data.tech}</p>
    `;

    container.appendChild(card);
  });
}
loadHackathons();
</script>
loadHackathons();
</body>


<h2>Post a Hackathon</h2>

<form id="hackathonForm">
  <input type="text" id="title" placeholder="Hackathon Name" required>
  <input type="text" id="city" placeholder="City" required>
  <input type="text" id="tech" placeholder="Tech Stack (AI, Web, etc)" required>
  <button type="submit">Add Hackathon</button>
</form>

<div id="hackathonList"></div>

<div class="card-container">
  <div id="hackathonContainer"></div>

    <div class="card">
        <h3>JNEC Tech Fest Hackathon</h3>
        <p>üìç Aurangabad</p>
        <p>üìÖ March 2026</p>
        <button>Apply Now</button>
    </div>

    <div class="card">
        <h3>Maharashtra AI Challenge</h3>
        <p>üìç Pune</p>
        <p>üìÖ April 2026</p>
        <button>Apply Now</button>
    </div>

</div>







</script>




<script>
// Combined Search + City Filter
function filterHackathons() {
  let input = document.getElementById("searchInput").value.toLowerCase();
  let selectedCity = document.getElementById("cityFilter").value.toLowerCase();
  let cards = document.getElementsByClassName("card");

  for (let i = 0; i < cards.length; i++) {
    let text = cards[i].innerText.toLowerCase();

    // Check both search input AND city
    if ((input === "" || text.includes(input)) && 
        (selectedCity === "" || text.includes(selectedCity))) {
      cards[i].style.display = "block";
    } else {
      cards[i].style.display = "none";
    }
  }
}

// Call combined filter when user types
document.getElementById("searchInput").addEventListener("keyup", filterHackathons);

// Call combined filter when user selects city
document.getElementById("cityFilter").addEventListener("change", filterHackathons);
</script>  





<footer>
  <p>&copy; 2026 HackNear. All rights reserved.</p>
</footer>




<script>



function addCardToPage(hackathon) {
  const container = document.getElementById("hackathonContainer");

  const card = document.createElement("div");
  card.className = "card";

  card.innerHTML = `
  <h3>${hackathon.title}</h3>
  <p><strong>City:</strong> ${hackathon.city}</p>
  <p><strong>Tech:</strong> ${hackathon.tech}</p>
  <button onclick="deleteHackathon(this)">Delete</button>
`;
  container.appendChild(card);
}

function deleteHackathon(button) {
  const card = button.parentElement;
  const title = card.querySelector("h3").innerText;

  // Remove from page
  card.remove();

  // Remove from local storage
  let saved = JSON.parse(localStorage.getItem("hackathons")) || [];
  saved = saved.filter(h => h.title !== title);
  localStorage.setItem("hackathons", JSON.stringify(saved));
}

</script>


</body>